<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no">
    <link rel="icon" href="assets/images/logo_ready.png" type="image/png">
    <link rel="apple-touch-icon" href="assets/images/logo_ready.png">
    <!-- Preload critical images for faster loading -->
    <link rel="preload" href="assets/images/second/book_bg.png" as="image">
    <link rel="preload" href="assets/images/second/book_bg_back.png" as="image">
    <link rel="preload" href="assets/images/intro/shooting_heart.gif" as="image">
    <link rel="preload" href="assets/images/intro/left_cupid.png" as="image">
    <link rel="preload" href="assets/images/intro/right_cupid.png" as="image">
    <link rel="preload" href="assets/images/intro/double_heart.png" as="image">
    <title>Valentine Gift ‚ù§Ô∏è</title>
    <meta name="description"
        content="C√≥ ng∆∞·ªùi ƒë√£ g·ª≠i cho b·∫°n m·ªôt m√≥n qu√† Valentine ƒë·∫∑c bi·ªát. Ch·∫°m ƒë·ªÉ m·ªü v√† kh√°m ph√°...">
    <meta name="robots" content="noindex, nofollow">
    <!-- Open Graph -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="./">
    <meta property="og:title" content="Valentine Gift‚ù§Ô∏è">
    <meta property="og:description"
        content="C√≥ ng∆∞·ªùi ƒë√£ g·ª≠i cho b·∫°n m·ªôt m√≥n qu√† Valentine ƒë·∫∑c bi·ªát. Ch·∫°m ƒë·ªÉ m·ªü v√† kh√°m ph√°...">
    <meta property="og:image" content="./assets/images/logo_ready.png">
    <meta property="og:locale" content="vi_VN">
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Valentine Gift‚ù§Ô∏è">
    <meta name="twitter:description"
        content="C√≥ ng∆∞·ªùi ƒë√£ g·ª≠i cho b·∫°n m·ªôt m√≥n qu√† Valentine ƒë·∫∑c bi·ªát. Ch·∫°m ƒë·ªÉ m·ªü v√† kh√°m ph√°...">
    <meta name="twitter:image" content="./assets/images/logo_ready.png">
    <link rel="stylesheet" href="intro_gift/intro.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@300;400;500;700&family=Noto+Sans+JP:wght@300;400;500;700&family=Noto+Sans+KR:wght@300;400;500;700&family=Noto+Sans+SC:wght@300;400;500;700&family=Noto+Sans+TC:wght@300;400;500;700&family=Noto+Sans+Arabic:wght@300;400;500;700&family=Noto+Sans+Devanagari:wght@300;400;500;700&family=Noto+Sans+Hebrew:wght@300;400;500;700&family=Noto+Sans+Thai:wght@300;400;500;700&family=Pacifico&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="final_gift/final.css">
    <script type="importmap">
        {
            "imports": {
                "three": "https://cdn.jsdelivr.net/npm/three@0.157.0/build/three.module.js",
                "three/examples/jsm/": "https://cdn.jsdelivr.net/npm/three@0.157.0/examples/jsm/"
            }
        }
    </script>
    <style>
        #finalScreen {
            overflow: hidden;
            position: fixed;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, #200020 0%, #000000 100%);
        }

        * {
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
            -webkit-touch-callout: none;
            -webkit-tap-highlight-color: transparent;
        }

        input,
        textarea {
            -webkit-user-select: text;
            -moz-user-select: text;
            -ms-user-select: text;
            user-select: text;
        }
    </style>
    <!-- Ch·∫∑n DevTools -->
    <script src="./detect-devtools.js"></script>
    <script type='text/javascript'>
        const keyName = 'key';
        const keyValue = '9ac7ec230e0e4513578f309d6d3579ad';
        DisableDevtool({
            tkName: keyName,
            md5: keyValue,
            interval: '100',
        });
    </script>
</head>

<body>
    <!-- ƒê√£ x√≥a ph·∫ßn redirect v√¨ d√πng data.json tr·ª±c ti·∫øp -->

    <div id="introScreen">
        <video id="backgroundVideo" autoplay loop muted playsinline preload="auto">
            <source id="videoSource" src="" type="video/mp4">
        </video>
        <canvas id="canvas"></canvas>
        <div id="rotateNotice" style="display:none;">
            <div class="overlay">
                <p>Vui l√≤ng xoay m√†n h√¨nh sang ngang ƒë·ªÉ c√≥ tr·∫£i nghi·ªám t·ªët nh·∫•t ‚ù§Ô∏è</p>
            </div>
        </div>

        <div id="readyToStartOverlay" class="ready-overlay" style="display:none;">
            <div class="ready-overlay-inner">
                <img class="ready-overlay-logo" src="assets/images/logo_ready.png" alt="" />
                <button type="button" id="readyToStartBtn" class="ready-to-start-btn" aria-label="B·∫Øt ƒë·∫ßu">
                    S·∫µn s√†ng ‚ù§Ô∏è
                </button>
            </div>
        </div>

        <img id="leftCupid" src="assets/images/intro/left_cupid.png" alt="Left Cupid" />
        <img id="rightCupid" src="assets/images/intro/right_cupid.png" alt="Right Cupid" />
        <img id="doubleHeart" src="assets/images/intro/double_heart.png" alt="Double Heart" />
        <div id="doubleHeartGlow" class="double-heart-glow" style="display:none;" aria-hidden="true"></div>
        <img id="giftBox" src="assets/images/second/gift-box.png" alt="Gift Box" style="display:none;" />
        <img id="noFinalGiftImg" src="assets/images/second/no_finalgift.gif" alt="" style="display:none;"
            aria-hidden="true" />
        <div id="giftBoxGlow" class="double-heart-glow" style="display:none;" aria-hidden="true"></div>
        <img id="leftBottom" src="assets/images/intro/left_bottom.png" alt="Left Bottom" />
        <img id="rightBottom" src="assets/images/intro/right_bottom.png" alt="Right Bottom" />
        <img id="bear" src="assets/images/intro/shooting_heart.gif" alt="Bear" />
        <button type="button" id="openBookBtn" class="open-book-btn" aria-label="M·ªü s√°ch" title="Ch·∫°m ƒë·ªÉ ti·∫øp t·ª•c"
            style="display: none;">
            <img class="open-book-arrow" src="assets/images/second/arrow.png" alt="">
            <img src="assets/images/second/book.png" alt="">
        </button>
    </div>

    <div id="secondScreen" aria-hidden="true">
        <div class="container" id="container">
            <div class="book-content trnsf-reset">
                <div class="book">
                    <div class="face-front" id="portada"></div>
                    <div class="face-back" id="trsf">
                        <div class="page-text">
                            G·ª≠i em y√™u d·∫•u c·ªßa anh,

                            H√¥m nay l√† m·ªôt ng√†y ƒë·∫∑c bi·ªát, ng√†y m√† anh mu·ªën n√≥i v·ªõi em nh·ªØng ƒëi·ªÅu t·ª´ s√¢u trong tr√°i tim
                            m√¨nh. Em bi·∫øt kh√¥ng, t·ª´ ng√†y em b∆∞·ªõc v√†o cu·ªôc ƒë·ªùi anh, m·ªçi th·ª© ƒë√£ thay ƒë·ªïi ho√†n to√†n. Em
                            kh√¥ng ch·ªâ l√† ng∆∞·ªùi y√™u c·ªßa anh, m√† c√≤n l√† ng∆∞·ªùi b·∫°n ƒë·ªìng h√†nh, l√† ngu·ªìn c·∫£m h·ª©ng v√† l√† l√Ω do
                            ƒë·ªÉ anh c·ªë g·∫Øng m·ªói ng√†y.

                            Anh mu·ªën c·∫£m ∆°n em v√¨ ƒë√£ ·ªü b√™n c·∫°nh anh, v√¨ ƒë√£ ki√™n nh·∫´n v√† y√™u th∆∞∆°ng anh v√¥ ƒëi·ªÅu ki·ªán. Em
                            l√† √°nh s√°ng trong cu·ªôc ƒë·ªùi anh, l√† ng√¥i sao s√°ng nh·∫•t tr√™n b·∫ßu tr·ªùi ƒë√™m.
                        </div>
                    </div>
                </div>

                <div class="book">
                    <div class="face-front" id="bg-ft1">
                        <img class="page-image" src="assets/images/second/bookPortada.jpg" alt="">
                    </div>
                    <div class="face-back">
                        <div class="page-text">
                            M·ªói s√°ng th·ª©c d·∫≠y, ƒëi·ªÅu ƒë·∫ßu ti√™n anh nghƒ© ƒë·∫øn l√† em. M·ªói bu·ªïi t·ªëi tr∆∞·ªõc khi ng·ªß, anh lu√¥n
                            c·∫£m th·∫•y bi·∫øt ∆°n v√¨ c√≥ em trong cu·ªôc ƒë·ªùi m√¨nh. Em ƒë√£ mang ƒë·∫øn cho anh nh·ªØng kho·∫£nh kh·∫Øc h·∫°nh
                            ph√∫c nh·∫•t, nh·ªØng n·ª• c∆∞·ªùi ch√¢n th√†nh nh·∫•t, v√† c·∫£ nh·ªØng gi·ªçt n∆∞·ªõc m·∫Øt khi ch√∫ng ta c√πng nhau
                            v∆∞·ª£t qua kh√≥ khƒÉn.

                            Anh y√™u c√°ch em quan t√¢m ƒë·∫øn m·ªçi ng∆∞·ªùi xung quanh, y√™u n·ª• c∆∞·ªùi r·∫°ng r·ª° c·ªßa em, y√™u c·∫£ nh·ªØng
                            l√∫c em gi·∫≠n d·ªói ƒë√°ng y√™u. Em ho√†n h·∫£o trong m·∫Øt anh, kh√¥ng ph·∫£i v√¨ em kh√¥ng c√≥ khuy·∫øt ƒëi·ªÉm,
                            m√† v√¨ anh y√™u c·∫£ nh·ªØng ƒëi·ªÅu ƒë√≥.
                        </div>
                    </div>
                </div>

                <div class="book">
                    <div class="face-front" id="bg-ft2">
                        <img class="page-image" src="assets/images/second/cover.png" alt="">
                    </div>
                    <div class="face-back">
                        <div class="page-text">
                            Anh nh·ªõ nh·ªØng l·∫ßn ch√∫ng ta c√πng nhau ƒëi d·∫°o d∆∞·ªõi √°nh trƒÉng, nh·ªØng l·∫ßn ng·ªìi c·∫°nh nhau im l·∫∑ng
                            nh∆∞ng v·∫´n c·∫£m nh·∫≠n ƒë∆∞·ª£c s·ª± ·∫•m √°p. Anh nh·ªõ nh·ªØng b·ªØa ƒÉn ch√∫ng ta c√πng n·∫•u, nh·ªØng chuy·∫øn ƒëi
                            ch√∫ng ta c√πng tr·∫£i nghi·ªám, v√† c·∫£ nh·ªØng kho·∫£nh kh·∫Øc b√¨nh d·ªã nh·∫•t khi ch·ªâ c·∫ßn c√≥ em b√™n c·∫°nh.

                            Em kh√¥ng ch·ªâ l√† ng∆∞·ªùi y√™u, m√† c√≤n l√† ng∆∞·ªùi b·∫°n t·ªët nh·∫•t c·ªßa anh. Ch√∫ng ta c√≥ th·ªÉ chia s·∫ª m·ªçi
                            th·ª© v·ªõi nhau, t·ª´ nh·ªØng ni·ªÅm vui nh·ªè nh·∫•t ƒë·∫øn nh·ªØng n·ªói bu·ªìn s√¢u k√≠n nh·∫•t. Em hi·ªÉu anh h∆°n
                            b·∫•t k·ª≥ ai, v√† anh c≈©ng mu·ªën hi·ªÉu em nhi·ªÅu h∆°n n·ªØa.
                        </div>
                    </div>
                </div>

                <div class="book">
                    <div class="face-front">
                        <img class="page-image" src="assets/images/second/ilove.jpg" alt="">
                    </div>
                    <div class="face-back" id="portada-back">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="finalLoadingScreen" class="final-loading" aria-hidden="true" style="display: none;">
        <div class="loading-container">
            <div class="loading-text">Valentine...</div>
            <div class="loading-progress-wrapper">
                <div class="loading-progress-bar" id="loadingProgressBar">
                    <div class="loading-progress-fill" id="loadingProgressFill"></div>
                </div>
            </div>
        </div>
    </div>

    <div id="finalScreen" aria-hidden="true" style="display: none;">
    </div>

    <script src="intro_gift/intro.js"></script>
    <script>
        // =================== CONFIGURATION ===================
        const CONFIG = {
            dataFile: 'data.json',  // T√™n file JSON ch·ª©a d·ªØ li·ªáu
            defaultMusic: '/assets/musics/phepmau.mp3',
            defaultImage: 'assets/images/second/bookPortada.jpg'
        };

        // =================== DATA LOADING ===================
        async function loadValentineData() {
            try {
                console.log('üì• ƒêang t·∫£i d·ªØ li·ªáu t·ª´:', CONFIG.dataFile);
                const response = await fetch(CONFIG.dataFile);
                
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                const data = await response.json();
                console.log('‚úÖ D·ªØ li·ªáu JSON ƒë√£ t·∫£i:', data);
                
                // TR·ª∞C TI·∫æP TR·∫¢ V·ªÄ D·ªÆ LI·ªÜU - v√¨ JSON c·ªßa b·∫°n l√† object tr·ª±c ti·∫øp
                return data;
                
            } catch (error) {
                console.error('‚ùå L·ªói khi t·∫£i d·ªØ li·ªáu:', error);
                return getFallbackData();
            }
        }

        function getFallbackData() {
            console.log('‚ö†Ô∏è S·ª≠ d·ª•ng d·ªØ li·ªáu m·∫´u');
            return {
                "_id": "fallback-id",
                "intro": {
                    "recipientName": "Ng∆∞·ªùi y√™u d·∫•u",
                    "backgroundMusic": {
                        "type": "sample",
                        "path": CONFIG.defaultMusic,
                        "name": "Nh·∫°c m·∫∑c ƒë·ªãnh"
                    }
                },
                "book": {
                    "pages": [
                        {
                            "pageNumber": 1,
                            "text": "G·ª≠i em y√™u d·∫•u c·ªßa anh...",
                            "image": CONFIG.defaultImage
                        }
                    ]
                },
                "final": {
                    "enabled": true,
                    "wishes": [
                        "Happy Valentine's Day üíñ",
                        "M√£i b√™n nhau nh√© üíï"
                    ]
                }
            };
        }

        // =================== DATA PROCESSING ===================
        function processValentineData(valentineData) {
            if (!valentineData) {
                console.warn('‚ö†Ô∏è Kh√¥ng c√≥ d·ªØ li·ªáu ƒë·ªÉ x·ª≠ l√Ω');
                return;
            }

            console.log('üîÑ ƒêang x·ª≠ l√Ω d·ªØ li·ªáu Valentine...', valentineData);

            // 1. X·ª≠ l√Ω m√≥n qu√† cu·ªëi
            window.hasFinalGift = !!(valentineData.final && valentineData.final.enabled !== false);
            console.log('üéÅ Has final gift:', window.hasFinalGift);

            // 2. C·∫≠p nh·∫≠t t√™n ng∆∞·ªùi nh·∫≠n
            if (valentineData.intro && valentineData.intro.recipientName) {
                const newFullText = ["Happy Valentine", valentineData.intro.recipientName + " ‚ù§Ô∏è"];
                window.fullText = newFullText;
                console.log('üë§ T√™n ng∆∞·ªùi nh·∫≠n:', valentineData.intro.recipientName);
            }

            // 3. X·ª≠ l√Ω nh·∫°c n·ªÅn
            processBackgroundMusic(valentineData);

            // 4. T·∫°o s√°ch ƒë·ªông
            if (valentineData.book && valentineData.book.pages && Array.isArray(valentineData.book.pages)) {
                createDynamicBooks(valentineData.book.pages);
            }

            // 5. X·ª≠ l√Ω l·ªùi ch√∫c cu·ªëi
            processFinalWishes(valentineData);

            // 6. X·ª≠ l√Ω h√¨nh ·∫£nh cho m√†n h√¨nh cu·ªëi
            processFinalImages(valentineData);

            console.log('‚úÖ D·ªØ li·ªáu ƒë√£ ƒë∆∞·ª£c x·ª≠ l√Ω xong');
        }

        function processBackgroundMusic(valentineData) {
            if (valentineData.intro && valentineData.intro.backgroundMusic) {
                const musicData = valentineData.intro.backgroundMusic;
                let musicUrl = '';
                
                if (musicData.type === 'file' && musicData.url) {
                    musicUrl = musicData.url;
                } else if ((musicData.type === 'sample' || musicData.type === 'preset') && musicData.path) {
                    // S·ª≠a l·ªói: path b·∫Øt ƒë·∫ßu v·ªõi / th√¨ kh√¥ng th√™m / n·ªØa
                    musicUrl = musicData.path;
                }
                
                if (musicUrl) {
                    console.log('üéµ Loading music from:', musicUrl);
                    const audio = new Audio(musicUrl);
                    audio.loop = true;
                    audio.volume = 0.7;
                    window.backgroundMusic = audio;
                    
                    if (window.userHasClickedReady) {
                        audio.play().catch(err => console.warn('üéµ Kh√¥ng th·ªÉ ph√°t nh·∫°c:', err));
                    }
                }
            }
        }

        function processFinalWishes(valentineData) {
            if (!window.dataMemoryHeartLoveLoom) window.dataMemoryHeartLoveLoom = {};
            if (!window.dataMemoryHeartLoveLoom.data) window.dataMemoryHeartLoveLoom.data = {};
            
            if (valentineData.final && valentineData.final.wishes && Array.isArray(valentineData.final.wishes)) {
                const wishes = valentineData.final.wishes.filter(w => w && w.trim());
                window.dataMemoryHeartLoveLoom.data.messages = wishes;
                window.WISH_SENTENCES = wishes;
                console.log('üíå L·ªùi ch√∫c cu·ªëi:', wishes);
            } else {
                window.dataMemoryHeartLoveLoom.data.messages = [];
                window.WISH_SENTENCES = [];
            }
        }

        function processFinalImages(valentineData) {
            let bookImages = [];
            if (valentineData.book && valentineData.book.pages && Array.isArray(valentineData.book.pages)) {
                valentineData.book.pages.forEach(page => {
                    if (page.image) bookImages.push(page.image);
                });
            }
            
            const TARGET_IMAGE_COUNT = 8;
            let finalImages = [];
            
            if (bookImages.length >= TARGET_IMAGE_COUNT) {
                finalImages = bookImages.slice(0, TARGET_IMAGE_COUNT);
            } else if (bookImages.length > 0) {
                for (let i = 0; i < TARGET_IMAGE_COUNT; i++) {
                    finalImages.push(bookImages[i % bookImages.length]);
                }
            }
            
            if (!window.dataMemoryHeartLoveLoom.data) window.dataMemoryHeartLoveLoom.data = {};
            window.dataMemoryHeartLoveLoom.data.images = finalImages;
            console.log('üñºÔ∏è H√¨nh ·∫£nh cu·ªëi:', finalImages);
        }

        // =================== DYNAMIC BOOK CREATION ===================
        function createDynamicBooks(pages) {
            console.log('üìñ T·∫°o s√°ch v·ªõi', pages.length, 'trang');

            function initializeBooks() {
                const bookContent = document.querySelector('.book-content');
                if (!bookContent) {
                    setTimeout(initializeBooks, 100);
                    return;
                }
                
                if (!pages || pages.length === 0) {
                    console.warn('Kh√¥ng c√≥ trang s√°ch');
                    return;
                }

                // T√¨m trang b√¨a hi·ªán t·∫°i
                const allBooks = bookContent.querySelectorAll('.book');
                let coverBook = null;
                
                allBooks.forEach(book => {
                    if (book.querySelector('#portada')) coverBook = book;
                });

                // N·∫øu c√≥ trang b√¨a, gi·ªØ l·∫°i v√† c·∫≠p nh·∫≠t n·ªôi dung
                if (coverBook) {
                    // X√≥a c√°c trang kh√°c
                    allBooks.forEach(book => {
                        if (book !== coverBook) book.remove();
                    });
                    
                    // C·∫≠p nh·∫≠t n·ªôi dung trang ƒë·∫ßu
                    const coverBack = coverBook.querySelector('.face-back');
                    if (coverBack) {
                        let coverText = coverBack.querySelector('.page-text');
                        if (!coverText) {
                            coverText = document.createElement('div');
                            coverText.className = 'page-text';
                            coverBack.appendChild(coverText);
                        }
                        coverText.textContent = pages[0]?.text || '';
                    }
                    
                    // Th√™m c√°c trang m·ªõi (b·∫Øt ƒë·∫ßu t·ª´ trang 2)
                    for (let i = 0; i < pages.length; i++) {
                        if (i > 0) { // B·ªè qua trang ƒë·∫ßu (ƒë√£ c√≥)
                            const bookElement = createBookElement(pages[i], i, i === pages.length - 1);
                            bookContent.appendChild(bookElement);
                        }
                    }
                } else {
                    // N·∫øu kh√¥ng c√≥ trang b√¨a, t·∫°o m·ªõi t·∫•t c·∫£
                    bookContent.innerHTML = '';
                    pages.forEach((page, index) => {
                        const bookElement = createBookElement(page, index, index === pages.length - 1);
                        bookContent.appendChild(bookElement);
                    });
                }

                // C·∫≠p nh·∫≠t s·ªë trang
                if (typeof window.setTotalFlips === 'function') {
                    window.setTotalFlips(pages.length);
                }
                
                // Kh·ªüi t·∫°o l·∫°i ch·ª©c nƒÉng l·∫≠t s√°ch
                setTimeout(() => {
                    if (typeof window.reinitializeBookFlip === 'function') {
                        window.reinitializeBookFlip();
                    }
                }, 200);
            }

            function createBookElement(page, index, isLast) {
                const bookElement = document.createElement('div');
                bookElement.className = 'book';
                
                // M·∫∑t tr∆∞·ªõc
                const faceFront = document.createElement('div');
                faceFront.className = 'face-front';
                if (index === 0) faceFront.id = 'portada';
                
                const img = document.createElement('img');
                img.className = 'page-image';
                img.alt = `Trang ${index + 1}`;
                img.src = page.image || CONFIG.defaultImage;
                img.onerror = function() {
                    this.src = CONFIG.defaultImage;
                };
                faceFront.appendChild(img);
                
                // M·∫∑t sau
                const faceBack = document.createElement('div');
                faceBack.className = 'face-back';
                if (index === 0) faceBack.id = 'trsf';
                if (isLast) faceBack.id = 'portada-back';
                
                if (!isLast) {
                    const textDiv = document.createElement('div');
                    textDiv.className = 'page-text';
                    textDiv.textContent = page.text || '';
                    faceBack.appendChild(textDiv);
                }
                
                bookElement.appendChild(faceFront);
                bookElement.appendChild(faceBack);
                
                return bookElement;
            }

            // Kh·ªüi t·∫°o s√°ch khi DOM s·∫µn s√†ng
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', initializeBooks);
            } else {
                initializeBooks();
            }
        }

        // =================== MAIN INITIALIZATION ===================
        async function initApp() {
            console.log('üöÄ Kh·ªüi ƒë·ªông ·ª©ng d·ª•ng...');
            
            try {
                // ƒê·ª£i DOM s·∫µn s√†ng
                if (document.readyState === 'loading') {
                    await new Promise(resolve => {
                        document.addEventListener('DOMContentLoaded', resolve);
                    });
                }
                
                // T·∫£i v√† x·ª≠ l√Ω d·ªØ li·ªáu
                const data = await loadValentineData();
                processValentineData(data);
                
                console.log('üéâ ·ª®ng d·ª•ng ƒë√£ s·∫µn s√†ng!');
                
            } catch (error) {
                console.error('üí• L·ªói kh·ªüi ƒë·ªông:', error);
            }
        }

        // B·∫Øt ƒë·∫ßu ·ª©ng d·ª•ng
        initApp();
        
    </script>
    <script src="second_gift/second.js"></script>
</body>

</html>